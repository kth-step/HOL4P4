% generated by Ott 0.31 from: ott/p4.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ x $ & \ottcom{string} \\
 $ i $ & \ottcom{natural number} \\
 $ b $ & \ottcom{boolean} \\
 $ n $ & \ottcom{integer} \\
 $ \ottmv{i} ,\, \ottmv{j} ,\, \ottmv{k} ,\, \ottmv{l} $ & \ottcom{indices} \\
}}

\newcommand{\ottconst}{
\ottrulehead{\ottnt{const}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ const }{}{}{}{\ottcom{constants}}\ottprodnewline
\ottprodline{|}{ const }{}{}{}{\ottcom{boolean}}}

\newcommand{\ottunop}{
\ottrulehead{\ominus}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ ! }{}{}{}{\ottcom{boolean negation}}\ottprodnewline
\ottprodline{|}{ \neg }{}{}{}{\ottcom{bitwise complement}}\ottprodnewline
\ottprodline{|}{\ottsym{-}}{}{}{}{\ottcom{signed negation}}\ottprodnewline
\ottprodline{|}{\ottsym{+}}{}{}{}{\ottcom{unary plus}}}

\newcommand{\ottbinop}{
\ottrulehead{\oplus}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \times }{}{}{}{\ottcom{multiplication}}\ottprodnewline
\ottprodline{|}{\ottsym{/}}{}{}{}{\ottcom{division}}\ottprodnewline
\ottprodline{|}{ \bmod }{}{}{}{\ottcom{modulo}}\ottprodnewline
\ottprodline{|}{\ottsym{+}}{}{}{}{\ottcom{addition}}\ottprodnewline
\ottprodline{|}{\ottsym{-}}{}{}{}{\ottcom{subtraction}}\ottprodnewline
\ottprodline{|}{ \ll }{}{}{}{\ottcom{left-shift}}\ottprodnewline
\ottprodline{|}{ \gg }{}{}{}{\ottcom{right-shift}}\ottprodnewline
\ottprodline{|}{ \leq }{}{}{}{\ottcom{less or equal}}\ottprodnewline
\ottprodline{|}{ \geq }{}{}{}{\ottcom{greater or equal}}\ottprodnewline
\ottprodline{|}{ < }{}{}{}{\ottcom{less}}\ottprodnewline
\ottprodline{|}{ > }{}{}{}{\ottcom{greater}}\ottprodnewline
\ottprodline{|}{ \neq }{}{}{}{\ottcom{not equal}}\ottprodnewline
\ottprodline{|}{ = }{}{}{}{\ottcom{equal}}\ottprodnewline
\ottprodline{|}{\ottsym{\&}}{}{}{}{\ottcom{bitwise and}}\ottprodnewline
\ottprodline{|}{ \underline{\vee} }{}{}{}{\ottcom{bitwise xor}}\ottprodnewline
\ottprodline{|}{ \mid }{}{}{}{\ottcom{bitwise or}}\ottprodnewline
\ottprodline{|}{ \land }{}{}{}{\ottcom{binary and}}\ottprodnewline
\ottprodline{|}{ \lor }{}{}{}{\ottcom{binary or}}}

\newcommand{\ottexp}{
\ottrulehead{\ottnt{exp}}{::=}{\ottcom{expression}}\ottprodnewline
\ottfirstprodline{|}{\ottnt{const}}{}{}{}{\ottcom{constant value}}\ottprodnewline
\ottprodline{|}{x}{}{}{}{\ottcom{variable/function name}}\ottprodnewline
\ottprodline{|}{ \ominus  \ottnt{exp} }{}{}{}{\ottcom{unary operation}}\ottprodnewline
\ottprodline{|}{ \ottnt{exp_{{\mathrm{1}}}}   \oplus   \ottnt{exp_{{\mathrm{2}}}} }{}{}{}{\ottcom{binary operation}}\ottprodnewline
\ottprodline{|}{\ottkw{call} \, x  \ottsym{(}  \ottnt{exp_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp_{\ottmv{i}}}  \ottsym{)}}{}{}{}{\ottcom{function call}}\ottprodnewline
\ottprodline{|}{\ottkw{exec} \, \ottnt{stmt}}{}{}{}{\ottcom{function execution}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{exp}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottexpXXlist}{
\ottrulehead{\ottnt{exp\_list}}{::=}{\ottcom{list of expressions}}\ottprodnewline
\ottfirstprodline{|}{\ottkw{empty\_el}} {\textsf{M}}{}{}{\ottcom{empty expression list}}\ottprodnewline
\ottprodline{|}{\ottnt{exp_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp_{\ottmv{i}}}} {\textsf{M}}{}{}{\ottcom{list of expressions}}\ottprodnewline
\ottprodline{|}{\ottnt{exp\_list}  \ottsym{++}  \ottnt{exp\_list'}} {\textsf{M}}{}{}{\ottcom{append two exp_lists}}\ottprodnewline
\ottprodline{|}{ ( \ottkw{i}  \mapsto   \ottnt{exp} )  \ottnt{exp\_list} } {\textsf{M}}{}{}{\ottcom{update entry of expression list}}}

\newcommand{\ottstmt}{
\ottrulehead{\ottnt{stmt}}{::=}{\ottcom{statement}}\ottprodnewline
\ottfirstprodline{|}{ \emptyset_{ \mathrm{stmt} } }{}{}{}{\ottcom{empty statement}}\ottprodnewline
\ottprodline{|}{ x  \mathrel{\mathop:}=  \ottnt{exp} }{}{}{}{\ottcom{assignment}}\ottprodnewline
\ottprodline{|}{\ottkw{if} \, \ottnt{exp} \, \ottkw{then} \, \ottnt{stmt_{{\mathrm{1}}}} \, \ottkw{else} \, \ottnt{stmt_{{\mathrm{2}}}}}{}{}{}{\ottcom{conditional}}\ottprodnewline
\ottprodline{|}{ decl \,  x }{}{}{}{\ottcom{declaration}}\ottprodnewline
\ottprodline{|}{ \{  \ottnt{stmt}  \} }{}{}{}{\ottcom{block}}\ottprodnewline
\ottprodline{|}{ [  \ottnt{stmt}  ] }{}{}{}{\ottcom{block in progress}}\ottprodnewline
\ottprodline{|}{\ottkw{return} \, \ottnt{exp}}{}{}{}{\ottcom{return}}\ottprodnewline
\ottprodline{|}{\ottnt{stmt_{{\mathrm{1}}}}  \ottsym{;}  \ottnt{stmt_{{\mathrm{2}}}}}{}{}{}{\ottcom{sequence}}}

\newcommand{\ottfuncXXmap}{
\ottrulehead{F}{::=}{\ottcom{function map}}\ottprodnewline
\ottfirstprodline{|}{\ottkw{empty}} {\textsf{M}}{}{}{\ottcom{empty function map}}\ottprodnewline
\ottprodline{|}{F  \ottsym{+}  \ottsym{[}  x  \ottsym{\mbox{$\mid$}->}  \ottnt{stmt}  \ottsym{]}} {\textsf{M}}{}{}{\ottcom{update variable mapping}}}

\newcommand{\ottstatus}{
\ottrulehead{T}{::=}{\ottcom{execution status}}\ottprodnewline
\ottfirstprodline{|}{\ottkw{Running}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{Return} \, \ottnt{exp}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{TypeError}}{}{}{}{}}

\newcommand{\ottscope}{
\ottrulehead{\gamma}{::=}{\ottcom{frame/variable environment of current scope}}\ottprodnewline
\ottfirstprodline{|}{ {\emptyset}_{ \mathrm{\gamma} } } {\textsf{M}}{}{}{\ottcom{empty stack frame}}\ottprodnewline
\ottprodline{|}{ ( x  \mapsto   \ottnt{const} )  \gamma } {\textsf{M}}{}{}{\ottcom{update variable mapping}}\ottprodnewline
\ottprodline{|}{ \forall i . (x_i \mapsto  \mathit{const}_i)  \gamma } {\textsf{M}}{}{}{\ottcom{update variable mapping}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \gamma  \ottsym{)}} {\textsf{S}}{}{}{}\ottprodnewline
\ottprodline{|}{ G_s } {\textsf{M}}{}{}{\ottcom{global scope}}}

\newcommand{\ottcurrXXstackXXframe}{
\ottrulehead{\varepsilon}{::=}{\ottcom{current stack frame - stack of block scopes}}\ottprodnewline
\ottfirstprodline{|}{ {\emptyset}_{\varepsilon} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{[}  \gamma_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \gamma_{\ottmv{i}}  \ottsym{]}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathrm{tl} ( \varepsilon ) } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \gamma  \mathrel{\mathop:}:  \varepsilon' } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \varepsilon  \mathrel{\mathop+}+  \varepsilon' } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ ( \ottkw{i}  \mapsto   \gamma )  \varepsilon } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \varepsilon  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottcallXXstack}{
\ottrulehead{E}{::=}{\ottcom{stack of caller stack frames}}\ottprodnewline
\ottfirstprodline{|}{ {\emptyset}_{E} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{[}  \varepsilon_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  \varepsilon_{\ottmv{i}}  \ottsym{]}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \varepsilon  \mathrel{\mathop:}:  E } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  E  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottstacks}{
\ottrulehead{\sigma}{::=}{\ottcom{stacks in execution state}}\ottprodnewline
\ottfirstprodline{|}{\ottsym{(}  \varepsilon  \ottsym{,}  E  \ottsym{)}}{}{}{}{}}

\newcommand{\ottstate}{
\ottrulehead{s}{::=}{\ottcom{execution state}}\ottprodnewline
\ottfirstprodline{|}{\ottsym{(}  \sigma  \ottsym{,}  T  \ottsym{)}}{}{}{}{}}

\newcommand{\ottterminals}{
\ottrulehead{\ottnt{terminals}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \rightarrow }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \rightsquigarrow }{}{}{}{}}

\newcommand{\ottformula}{
\ottrulehead{\ottnt{formula}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{judgement}}{}{}{}{\ottcom{judgement}}\ottprodnewline
\ottprodline{|}{\ottsym{!}  b  \ottsym{=}  b'} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{~}  n  \ottsym{=}  n'} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{-}  n  \ottsym{=}  n'} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{+}  n  \ottsym{=}  n'} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n  \ottsym{*}  n'  \ottsym{=}  n''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n  \ottsym{/}  n'  \ottsym{=}  n''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n \, \ottkw{mod} \, n'  \ottsym{=}  n''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n  \ottsym{+}  n'  \ottsym{=}  n''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n  \ottsym{-}  n'  \ottsym{=}  n''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n \, \ottkw{EQ} \, n'  \ottsym{=}  b} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{b \, \ottkw{EQ} \, b'  \ottsym{=}  b''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n \, \ottkw{SHL} \, n'  \ottsym{=}  n''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n \, \ottkw{SHR} \, n'  \ottsym{=}  n''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n \, \ottkw{LE} \, n'  \ottsym{=}  b} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n \, \ottkw{GE} \, n'  \ottsym{=}  b} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n  \ottsym{<}  n'  \ottsym{=}  b} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n  \ottsym{>}  n'  \ottsym{=}  b} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n \, \ottkw{NE} \, n'  \ottsym{=}  b} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n  \ottsym{\&}  n'  \ottsym{=}  n''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n  \ottsym{\mbox{$\uparrow$}}  n'  \ottsym{=}  n''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{n  \ottsym{\mbox{$\mid$}}  n'  \ottsym{=}  n''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{b \, \ottkw{AND} \, b'  \ottsym{=}  b''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{b \, \ottkw{OR} \, b'  \ottsym{=}  b''} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \varepsilon  = \mathrm{hd}  E } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\gamma  \ottsym{=}  \varepsilon  \ottsym{[}  i  \ottsym{]}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{stmt}  \ottsym{,}  x_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  x_{\ottmv{i}}  \ottsym{)}  \ottsym{=}  F  \ottsym{(}  x  \ottsym{)}} {\textsf{M}}{}{}{\ottcom{function lookup}}\ottprodnewline
\ottprodline{|}{ i = max  \{ j .  x   \in \mathrm{dom} (  \varepsilon  [j] )   \} } {\textsf{M}}{}{}{\ottcom{find max index of variable's scope}}\ottprodnewline
\ottprodline{|}{ i = length ( \varepsilon ) } {\textsf{M}}{}{}{\ottcom{find the current stack frame length}}\ottprodnewline
\ottprodline{|}{\ottnt{const}  \ottsym{=}  \gamma  \ottsym{(}  x  \ottsym{)}} {\textsf{M}}{}{}{\ottcom{look-up of variable in scope}}\ottprodnewline
\ottprodline{|}{\ottnt{exp}  \ottsym{=}  \ottnt{exp\_list}  \ottsym{[}  i  \ottsym{]}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{exp}  \ottsym{=} \, \ottkw{hd} \, \ottnt{exp\_list}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{exp'_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp'_{\ottmv{j}}}  \ottsym{++}  \ottnt{exp''_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp''_{\ottmv{k}}}  \ottsym{=}  \ottnt{exp_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp_{\ottmv{i}}}} {\textsf{M}}{}{}{\ottcom{pattern match on constant and non-constant function arguments}}\ottprodnewline
\ottprodline{|}{ b  = \mathrm{True} } {\textsf{M}}{}{}{\ottcom{condition true}}\ottprodnewline
\ottprodline{|}{ b  = \mathrm{False} } {\textsf{M}}{}{}{\ottcom{condition false}}\ottprodnewline
\ottprodline{|}{ \mathit{exp}_1 , .. , \mathit{exp}_i = \{ \} } {\textsf{M}}{}{}{\ottcom{function arguments empty}}\ottprodnewline
\ottprodline{|}{\gamma  \ottsym{=}  \gamma'} {\textsf{M}}{}{}{\ottcom{scope equality}}\ottprodnewline
\ottprodline{|}{\varepsilon  \ottsym{=}  \varepsilon'} {\textsf{M}}{}{}{\ottcom{curr_stack_frame equality}}\ottprodnewline
\ottprodline{|}{E  \ottsym{=}  E'} {\textsf{M}}{}{}{\ottcom{call_stack equality}}\ottprodnewline
\ottprodline{|}{ ( \ottnt{exp\_list}  =  \ottnt{exp\_list'} ) } {\textsf{M}}{}{}{\ottcom{args equality}}\ottprodnewline
\ottprodline{|}{ i  =  i  + 1 } {\textsf{M}}{}{}{\ottcom{numeral increment}}\ottprodnewline
\ottprodline{|}{i  \ottsym{=} \, \ottkw{length} \, \ottsym{(}  \ottnt{exp_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp_{\ottmv{i}}}  \ottsym{)}} {\textsf{M}}{}{}{\ottcom{length of list}}\ottprodnewline
\ottprodline{|}{ i  < \mathrm{len}(\mathit{exp}) } {\textsf{M}}{}{}{\ottcom{numeral in range}}\ottprodnewline
\ottprodline{|}{ \mathrm{is\_const} ( \ottnt{exp} ) } {\textsf{M}}{}{}{\ottcom{expression constant}}\ottprodnewline
\ottprodline{|}{ \mathrm{is\_consts} (\mathit{exp}_1 , .. , \mathit{exp}_i) } {\textsf{M}}{}{}{\ottcom{function arguments constant}}}

\newcommand{\ottexpXXsem}{
\ottrulehead{\ottnt{exp\_sem}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ [  \ottnt{exp}  ]  \sigma  \rightsquigarrow [  \ottnt{exp'}  ]  \sigma' }{}{}{}{\ottcom{expression semantics}}}

\newcommand{\ottstmtXXsem}{
\ottrulehead{\ottnt{stmt\_sem}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottsym{[}  \ottnt{stmt}  \ottsym{]}  s  \rightarrow  \ottsym{[}  \ottnt{stmt'}  \ottsym{]}  s'}{}{}{}{\ottcom{statement semantics}}}

\newcommand{\ottjudgement}{
\ottrulehead{\ottnt{judgement}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{exp\_sem}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{stmt\_sem}}{}{}{}{}}

\newcommand{\ottuserXXsyntax}{
\ottrulehead{\ottnt{user\_syntax}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{x}{}{}{}{}\ottprodnewline
\ottprodline{|}{i}{}{}{}{}\ottprodnewline
\ottprodline{|}{b}{}{}{}{}\ottprodnewline
\ottprodline{|}{n}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{i}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{const}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ominus}{}{}{}{}\ottprodnewline
\ottprodline{|}{\oplus}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{exp}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{exp\_list}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{stmt}}{}{}{}{}\ottprodnewline
\ottprodline{|}{F}{}{}{}{}\ottprodnewline
\ottprodline{|}{T}{}{}{}{}\ottprodnewline
\ottprodline{|}{\gamma}{}{}{}{}\ottprodnewline
\ottprodline{|}{\varepsilon}{}{}{}{}\ottprodnewline
\ottprodline{|}{E}{}{}{}{}\ottprodnewline
\ottprodline{|}{\sigma}{}{}{}{}\ottprodnewline
\ottprodline{|}{s}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{terminals}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{formula}}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\ottconst\ottinterrule
\ottunop\ottinterrule
\ottbinop\ottinterrule
\ottexp\ottinterrule
\ottexpXXlist\ottinterrule
\ottstmt\ottinterrule
\ottfuncXXmap\ottinterrule
\ottstatus\ottinterrule
\ottscope\ottinterrule
\ottcurrXXstackXXframe\ottinterrule
\ottcallXXstack\ottinterrule
\ottstacks\ottinterrule
\ottstate\ottinterrule
\ottterminals\ottinterrule
\ottformula\ottinterrule
\ottexpXXsem\ottinterrule
\ottstmtXXsem\ottinterrule
\ottjudgement\ottinterrule
\ottuserXXsyntax\ottafterlastrule
}}

% defnss
% defns exp_sem
%% defn exp_red
\newcommand{\ottdruleexpXXfuncXXcallXXargsOne}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{exp'_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp'_{\ottmv{j}}}  \ottsym{++}  \ottnt{exp''_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp''_{\ottmv{k}}}  \ottsym{=}  \ottnt{exp_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp_{\ottmv{i}}}}%
\ottpremise{ \mathrm{is\_consts} (\mathit{exp}_1 , .. , \mathit{exp}_i) }%
\ottpremise{\ottnt{exp}  \ottsym{=} \, \ottkw{hd} \, \ottnt{exp''_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp''_{\ottmv{k}}}}%
\ottpremise{ [  \ottnt{exp}  ]  \sigma  \rightsquigarrow [  \ottnt{exp'}  ]  \sigma' }%
\ottpremise{i  \ottsym{=} \, \ottkw{length} \, \ottsym{(}  \ottnt{exp'_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp'_{\ottmv{j}}}  \ottsym{)}}%
\ottpremise{ ( \ottnt{exp'''_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp'''_{\ottmv{l}}}  =   ( \ottkw{i}  \mapsto   \ottnt{exp'} )  \ottnt{exp_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp_{\ottmv{i}}}  ) }%
}{
 [  \ottkw{call} \, x  \ottsym{(}  \ottnt{exp_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp_{\ottmv{i}}}  \ottsym{)}  ]  \sigma  \rightsquigarrow [  \ottkw{call} \, x  \ottsym{(}  \ottnt{exp'''_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp'''_{\ottmv{l}}}  \ottsym{)}  ]  \sigma' }{%
{\ottdrulename{exp\_func\_call\_args1}}{}%
}}


\newcommand{\ottdruleexpXXfuncXXcallXXargsTwo}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{(}  \ottnt{stmt}  \ottsym{,}  x_{{\mathrm{1}}}  \ottsym{,} \, .. \, \ottsym{,}  x_{\ottmv{i}}  \ottsym{)}  \ottsym{=}  F  \ottsym{(}  x  \ottsym{)}}%
\ottpremise{\gamma'  \ottsym{=}   \forall i . (x_i \mapsto  \mathit{const}_i)   {\emptyset}_{ \mathrm{\gamma} }  }%
\ottpremise{ G_s   \ottsym{=}  \varepsilon  \ottsym{[}  0  \ottsym{]}}%
\ottpremise{\varepsilon'  \ottsym{=}   \gamma'  \mathrel{\mathop:}:  \ottsym{[}   G_s   \ottsym{]} }%
\ottpremise{E'  \ottsym{=}    \mathrm{tl} ( \varepsilon )   \mathrel{\mathop:}:  E }%
}{
 [  \ottkw{call} \, x  \ottsym{(}  \ottnt{const_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{const_{\ottmv{i}}}  \ottsym{)}  ]  \ottsym{(}  \varepsilon  \ottsym{,}  E  \ottsym{)}  \rightsquigarrow [  \ottkw{exec} \, \ottnt{stmt}  ]  \ottsym{(}  \varepsilon'  \ottsym{,}  E'  \ottsym{)} }{%
{\ottdrulename{exp\_func\_call\_args2}}{}%
}}


\newcommand{\ottdruleexpXXfuncXXexec}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{[}  \ottnt{stmt}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{stmt'}  \ottsym{]}  \ottsym{(}  \sigma'  \ottsym{,}  \ottkw{Running}  \ottsym{)}}%
}{
 [  \ottkw{exec} \, \ottnt{stmt}  ]  \sigma  \rightsquigarrow [  \ottkw{exec} \, \ottnt{stmt'}  ]  \sigma' }{%
{\ottdrulename{exp\_func\_exec}}{}%
}}


\newcommand{\ottdruleexpXXfuncXXretXXexp}[1]{\ottdrule[#1]{%
}{
 [  \ottkw{exec} \,  \emptyset_{ \mathrm{stmt} }   ]  \sigma  \rightsquigarrow [  \ottnt{const}  ]  \sigma' }{%
{\ottdrulename{exp\_func\_ret\_exp}}{}%
}}


\newcommand{\ottdruleexpXXlookup}[1]{\ottdrule[#1]{%
\ottpremise{ i = max  \{ j .  x   \in \mathrm{dom} (  \varepsilon  [j] )   \} }%
\ottpremise{\gamma  \ottsym{=}  \varepsilon  \ottsym{[}  i  \ottsym{]}}%
\ottpremise{\ottnt{const}  \ottsym{=}  \gamma  \ottsym{(}  x  \ottsym{)}}%
}{
 [  x  ]  \sigma  \rightsquigarrow [  \ottnt{const}  ]  \sigma }{%
{\ottdrulename{exp\_lookup}}{}%
}}


\newcommand{\ottdruleexpXXunop}[1]{\ottdrule[#1]{%
\ottpremise{ [  \ottnt{exp}  ]  \sigma  \rightsquigarrow [  \ottnt{exp'}  ]  \sigma' }%
}{
 [   \ominus  \ottnt{exp}   ]  \sigma  \rightsquigarrow [   \ominus  \ottnt{exp'}   ]  \sigma' }{%
{\ottdrulename{exp\_unop}}{}%
}}


\newcommand{\ottdruleexpXXnegXXbool}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{!}  b  \ottsym{=}  b'}%
}{
 [   \ominus   const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_neg\_bool}}{}%
}}


\newcommand{\ottdruleexpXXcompl}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{~}  n  \ottsym{=}  n'}%
}{
 [   \ominus   const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_compl}}{}%
}}


\newcommand{\ottdruleexpXXnegXXsigned}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{-}  n  \ottsym{=}  n'}%
}{
 [   \ominus   const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_neg\_signed}}{}%
}}


\newcommand{\ottdruleexpXXunXXplus}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{+}  n  \ottsym{=}  n'}%
}{
 [   \ominus   const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_un\_plus}}{}%
}}


\newcommand{\ottdruleexpXXbinopOne}[1]{\ottdrule[#1]{%
\ottpremise{ [  \ottnt{exp}  ]  \sigma  \rightsquigarrow [  \ottnt{exp''}  ]  \sigma' }%
}{
 [   \ottnt{exp}   \oplus   \ottnt{exp'}   ]  \sigma  \rightsquigarrow [   \ottnt{exp''}   \oplus   \ottnt{exp'}   ]  \sigma' }{%
{\ottdrulename{exp\_binop1}}{}%
}}


\newcommand{\ottdruleexpXXbinopTwo}[1]{\ottdrule[#1]{%
\ottpremise{ [  \ottnt{exp}  ]  \sigma  \rightsquigarrow [  \ottnt{exp'}  ]  \sigma' }%
}{
 [   \ottnt{const}   \oplus   \ottnt{exp}   ]  \sigma  \rightsquigarrow [   \ottnt{exp}   \oplus   \ottnt{exp'}   ]  \sigma' }{%
{\ottdrulename{exp\_binop2}}{}%
}}


\newcommand{\ottdruleexpXXmul}[1]{\ottdrule[#1]{%
\ottpremise{n  \ottsym{*}  n'  \ottsym{=}  n''}%
}{
 [    const     \times     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_mul}}{}%
}}


\newcommand{\ottdruleexpXXdiv}[1]{\ottdrule[#1]{%
\ottpremise{n  \ottsym{/}  n'  \ottsym{=}  n''}%
}{
 [    const    \ottsym{/}    const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_div}}{}%
}}


\newcommand{\ottdruleexpXXmod}[1]{\ottdrule[#1]{%
\ottpremise{n \, \ottkw{mod} \, n'  \ottsym{=}  n''}%
}{
 [    const     \bmod     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_mod}}{}%
}}


\newcommand{\ottdruleexpXXadd}[1]{\ottdrule[#1]{%
\ottpremise{n  \ottsym{+}  n'  \ottsym{=}  n''}%
}{
 [    const    \ottsym{+}    const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_add}}{}%
}}


\newcommand{\ottdruleexpXXsub}[1]{\ottdrule[#1]{%
\ottpremise{n  \ottsym{-}  n'  \ottsym{=}  n''}%
}{
 [    const    \ottsym{-}    const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_sub}}{}%
}}


\newcommand{\ottdruleexpXXshl}[1]{\ottdrule[#1]{%
\ottpremise{n \, \ottkw{SHL} \, n'  \ottsym{=}  n''}%
}{
 [    const     \ll     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_shl}}{}%
}}


\newcommand{\ottdruleexpXXshr}[1]{\ottdrule[#1]{%
\ottpremise{n \, \ottkw{SHR} \, n'  \ottsym{=}  n''}%
}{
 [    const     \gg     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_shr}}{}%
}}


\newcommand{\ottdruleexpXXle}[1]{\ottdrule[#1]{%
\ottpremise{n \, \ottkw{LE} \, n'  \ottsym{=}  b}%
}{
 [    const     \leq     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_le}}{}%
}}


\newcommand{\ottdruleexpXXge}[1]{\ottdrule[#1]{%
\ottpremise{n \, \ottkw{GE} \, n'  \ottsym{=}  b}%
}{
 [    const     \geq     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_ge}}{}%
}}


\newcommand{\ottdruleexpXXlt}[1]{\ottdrule[#1]{%
\ottpremise{n  \ottsym{<}  n'  \ottsym{=}  b}%
}{
 [    const     <     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_lt}}{}%
}}


\newcommand{\ottdruleexpXXgt}[1]{\ottdrule[#1]{%
\ottpremise{n  \ottsym{>}  n'  \ottsym{=}  b}%
}{
 [    const     >     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_gt}}{}%
}}


\newcommand{\ottdruleexpXXneq}[1]{\ottdrule[#1]{%
\ottpremise{n \, \ottkw{NE} \, n'  \ottsym{=}  b}%
}{
 [    const     \neq     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_neq}}{}%
}}


\newcommand{\ottdruleexpXXeq}[1]{\ottdrule[#1]{%
\ottpremise{n \, \ottkw{EQ} \, n'  \ottsym{=}  b}%
}{
 [    const     =     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_eq}}{}%
}}


\newcommand{\ottdruleexpXXand}[1]{\ottdrule[#1]{%
\ottpremise{n  \ottsym{\&}  n'  \ottsym{=}  n''}%
}{
 [    const    \ottsym{\&}    const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_and}}{}%
}}


\newcommand{\ottdruleexpXXxor}[1]{\ottdrule[#1]{%
\ottpremise{n  \ottsym{\mbox{$\uparrow$}}  n'  \ottsym{=}  n''}%
}{
 [    const     \underline{\vee}     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_xor}}{}%
}}


\newcommand{\ottdruleexpXXor}[1]{\ottdrule[#1]{%
\ottpremise{n  \ottsym{\mbox{$\mid$}}  n'  \ottsym{=}  n''}%
}{
 [    const     \mid     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_or}}{}%
}}


\newcommand{\ottdruleexpXXbinXXand}[1]{\ottdrule[#1]{%
\ottpremise{b \, \ottkw{AND} \, b'  \ottsym{=}  b''}%
}{
 [    const     \land     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_bin\_and}}{}%
}}


\newcommand{\ottdruleexpXXbinXXor}[1]{\ottdrule[#1]{%
\ottpremise{b \, \ottkw{OR} \, b'  \ottsym{=}  b''}%
}{
 [    const     \lor     const    ]  \sigma  \rightsquigarrow [   const   ]  \sigma }{%
{\ottdrulename{exp\_bin\_or}}{}%
}}

\newcommand{\ottdefnexpXXred}[1]{\begin{ottdefnblock}[#1]{$ [  \ottnt{exp}  ]  \sigma  \rightsquigarrow [  \ottnt{exp'}  ]  \sigma' $}{\ottcom{expression semantics}}
\ottusedrule{\ottdruleexpXXfuncXXcallXXargsOne{}}
\ottusedrule{\ottdruleexpXXfuncXXcallXXargsTwo{}}
\ottusedrule{\ottdruleexpXXfuncXXexec{}}
\ottusedrule{\ottdruleexpXXfuncXXretXXexp{}}
\ottusedrule{\ottdruleexpXXlookup{}}
\ottusedrule{\ottdruleexpXXunop{}}
\ottusedrule{\ottdruleexpXXnegXXbool{}}
\ottusedrule{\ottdruleexpXXcompl{}}
\ottusedrule{\ottdruleexpXXnegXXsigned{}}
\ottusedrule{\ottdruleexpXXunXXplus{}}
\ottusedrule{\ottdruleexpXXbinopOne{}}
\ottusedrule{\ottdruleexpXXbinopTwo{}}
\ottusedrule{\ottdruleexpXXmul{}}
\ottusedrule{\ottdruleexpXXdiv{}}
\ottusedrule{\ottdruleexpXXmod{}}
\ottusedrule{\ottdruleexpXXadd{}}
\ottusedrule{\ottdruleexpXXsub{}}
\ottusedrule{\ottdruleexpXXshl{}}
\ottusedrule{\ottdruleexpXXshr{}}
\ottusedrule{\ottdruleexpXXle{}}
\ottusedrule{\ottdruleexpXXge{}}
\ottusedrule{\ottdruleexpXXlt{}}
\ottusedrule{\ottdruleexpXXgt{}}
\ottusedrule{\ottdruleexpXXneq{}}
\ottusedrule{\ottdruleexpXXeq{}}
\ottusedrule{\ottdruleexpXXand{}}
\ottusedrule{\ottdruleexpXXxor{}}
\ottusedrule{\ottdruleexpXXor{}}
\ottusedrule{\ottdruleexpXXbinXXand{}}
\ottusedrule{\ottdruleexpXXbinXXor{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsexpXXsem}{
\ottdefnexpXXred{}}

% defns stmt_sem
%% defn stmt_red
\newcommand{\ottdrulestmtXXretXXexp}[1]{\ottdrule[#1]{%
\ottpremise{ [  \ottnt{exp}  ]  \sigma  \rightsquigarrow [  \ottnt{exp'}  ]  \sigma' }%
}{
\ottsym{[}  \ottkw{return} \, \ottnt{exp}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottkw{return} \, \ottnt{exp'}  \ottsym{]}  \ottsym{(}  \sigma'  \ottsym{,}  \ottkw{Running}  \ottsym{)}}{%
{\ottdrulename{stmt\_ret\_exp}}{}%
}}


\newcommand{\ottdrulestmtXXretXXconst}[1]{\ottdrule[#1]{%
\ottpremise{ G_s   \ottsym{=}  \varepsilon  \ottsym{[}  0  \ottsym{]}}%
\ottpremise{ \varepsilon'  \mathrel{\mathop:}:  E'   \ottsym{=}  E}%
\ottpremise{\varepsilon''  \ottsym{=}   \varepsilon'  \mathrel{\mathop+}+  \ottsym{[}   G_s   \ottsym{]} }%
}{
\ottsym{[}  \ottkw{return} \, \ottnt{const}  \ottsym{]}  \ottsym{(}  \ottsym{(}  \varepsilon  \ottsym{,}  E  \ottsym{)}  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}   \emptyset_{ \mathrm{stmt} }   \ottsym{]}  \ottsym{(}  \ottsym{(}  \varepsilon''  \ottsym{,}  E'  \ottsym{)}  \ottsym{,}  \ottkw{Return} \, \ottnt{const}  \ottsym{)}}{%
{\ottdrulename{stmt\_ret\_const}}{}%
}}


\newcommand{\ottdrulestmtXXassXXconst}[1]{\ottdrule[#1]{%
\ottpremise{ i = max  \{ j .  x   \in \mathrm{dom} (  \varepsilon  [j] )   \} }%
\ottpremise{\gamma  \ottsym{=}  \varepsilon  \ottsym{[}  i  \ottsym{]}}%
\ottpremise{\varepsilon'  \ottsym{=}   ( \ottkw{i}  \mapsto    ( x  \mapsto   \ottnt{const} )  \gamma  )  \varepsilon }%
}{
\ottsym{[}   x  \mathrel{\mathop:}=  \ottnt{const}   \ottsym{]}  \ottsym{(}  \ottsym{(}  \varepsilon  \ottsym{,}  E  \ottsym{)}  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}   \emptyset_{ \mathrm{stmt} }   \ottsym{]}  \ottsym{(}  \ottsym{(}  \varepsilon'  \ottsym{,}  E  \ottsym{)}  \ottsym{,}  \ottkw{Running}  \ottsym{)}}{%
{\ottdrulename{stmt\_ass\_const}}{}%
}}


\newcommand{\ottdrulestmtXXassXXexp}[1]{\ottdrule[#1]{%
\ottpremise{ [  \ottnt{exp}  ]  \sigma  \rightsquigarrow [  \ottnt{exp'}  ]  \sigma' }%
}{
\ottsym{[}   x  \mathrel{\mathop:}=  \ottnt{exp}   \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}   x  \mathrel{\mathop:}=  \ottnt{exp'}   \ottsym{]}  \ottsym{(}  \sigma'  \ottsym{,}  \ottkw{Running}  \ottsym{)}}{%
{\ottdrulename{stmt\_ass\_exp}}{}%
}}


\newcommand{\ottdrulestmtXXseqOne}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{[}  \ottnt{stmt_{{\mathrm{1}}}}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{stmt'_{{\mathrm{1}}}}  \ottsym{]}  \ottsym{(}  \sigma'  \ottsym{,}  \ottkw{Running}  \ottsym{)}}%
}{
\ottsym{[}  \ottnt{stmt_{{\mathrm{1}}}}  \ottsym{;}  \ottnt{stmt_{{\mathrm{2}}}}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{stmt'_{{\mathrm{1}}}}  \ottsym{;}  \ottnt{stmt_{{\mathrm{2}}}}  \ottsym{]}  \ottsym{(}  \sigma'  \ottsym{,}  \ottkw{Running}  \ottsym{)}}{%
{\ottdrulename{stmt\_seq1}}{}%
}}


\newcommand{\ottdrulestmtXXseqTwo}[1]{\ottdrule[#1]{%
}{
\ottsym{[}   \emptyset_{ \mathrm{stmt} }   \ottsym{;}  \ottnt{stmt}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{stmt}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}}{%
{\ottdrulename{stmt\_seq2}}{}%
}}


\newcommand{\ottdrulestmtXXseqThree}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{[}  \ottnt{stmt_{{\mathrm{1}}}}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{stmt'_{{\mathrm{1}}}}  \ottsym{]}  \ottsym{(}  \sigma'  \ottsym{,}  \ottkw{Return} \, \ottnt{exp}  \ottsym{)}}%
}{
\ottsym{[}  \ottnt{stmt_{{\mathrm{1}}}}  \ottsym{;}  \ottnt{stmt_{{\mathrm{2}}}}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}   \emptyset_{ \mathrm{stmt} }   \ottsym{]}  \ottsym{(}  \sigma'  \ottsym{,}  \ottkw{Return} \, \ottnt{exp}  \ottsym{)}}{%
{\ottdrulename{stmt\_seq3}}{}%
}}


\newcommand{\ottdrulestmtXXcondOne}[1]{\ottdrule[#1]{%
\ottpremise{ [  \ottnt{exp}  ]  \sigma  \rightsquigarrow [  \ottnt{exp'}  ]  \sigma' }%
}{
\ottsym{[}  \ottkw{if} \, \ottnt{exp} \, \ottkw{then} \, \ottnt{stmt_{{\mathrm{1}}}} \, \ottkw{else} \, \ottnt{stmt_{{\mathrm{2}}}}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottkw{if} \, \ottnt{exp'} \, \ottkw{then} \, \ottnt{stmt_{{\mathrm{1}}}} \, \ottkw{else} \, \ottnt{stmt_{{\mathrm{2}}}}  \ottsym{]}  \ottsym{(}  \sigma'  \ottsym{,}  \ottkw{Running}  \ottsym{)}}{%
{\ottdrulename{stmt\_cond1}}{}%
}}


\newcommand{\ottdrulestmtXXcondTwo}[1]{\ottdrule[#1]{%
\ottpremise{ b  = \mathrm{True} }%
}{
\ottsym{[}  \ottkw{if} \,  const  \, \ottkw{then} \, \ottnt{stmt_{{\mathrm{1}}}} \, \ottkw{else} \, \ottnt{stmt_{{\mathrm{2}}}}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{stmt_{{\mathrm{1}}}}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}}{%
{\ottdrulename{stmt\_cond2}}{}%
}}


\newcommand{\ottdrulestmtXXcondThree}[1]{\ottdrule[#1]{%
\ottpremise{ b  = \mathrm{False} }%
}{
\ottsym{[}  \ottkw{if} \,  const  \, \ottkw{then} \, \ottnt{stmt_{{\mathrm{1}}}} \, \ottkw{else} \, \ottnt{stmt_{{\mathrm{2}}}}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{stmt_{{\mathrm{2}}}}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}}{%
{\ottdrulename{stmt\_cond3}}{}%
}}


\newcommand{\ottdrulestmtXXdecl}[1]{\ottdrule[#1]{%
\ottpremise{ i = length ( \varepsilon ) }%
\ottpremise{\gamma  \ottsym{=}  \varepsilon  \ottsym{[}  i  \ottsym{]}}%
\ottpremise{\varepsilon'  \ottsym{=}   ( \ottkw{i}  \mapsto    ( x  \mapsto    const  )  \gamma  )  \varepsilon }%
}{
\ottsym{[}   decl \,  x   \ottsym{]}  \ottsym{(}  \ottsym{(}  \varepsilon  \ottsym{,}  E  \ottsym{)}  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}   \emptyset_{ \mathrm{stmt} }   \ottsym{]}  \ottsym{(}  \ottsym{(}  \varepsilon'  \ottsym{,}  E  \ottsym{)}  \ottsym{,}  \ottkw{Running}  \ottsym{)}}{%
{\ottdrulename{stmt\_decl}}{}%
}}


\newcommand{\ottdrulestmtXXblockXXenter}[1]{\ottdrule[#1]{%
\ottpremise{\varepsilon'  \ottsym{=}    {\emptyset}_{ \mathrm{\gamma} }   \mathrel{\mathop:}:  \varepsilon }%
}{
\ottsym{[}   \{  \ottnt{stmt}  \}   \ottsym{]}  \ottsym{(}  \ottsym{(}  \varepsilon  \ottsym{,}  E  \ottsym{)}  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}   [  \ottnt{stmt}  ]   \ottsym{]}  \ottsym{(}  \ottsym{(}  \varepsilon'  \ottsym{,}  E  \ottsym{)}  \ottsym{,}  \ottkw{Running}  \ottsym{)}}{%
{\ottdrulename{stmt\_block\_enter}}{}%
}}


\newcommand{\ottdrulestmtXXblockXXexec}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{[}  \ottnt{stmt}  \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{stmt'}  \ottsym{]}  \ottsym{(}  \sigma'  \ottsym{,}  \ottkw{Running}  \ottsym{)}}%
}{
\ottsym{[}   [  \ottnt{stmt}  ]   \ottsym{]}  \ottsym{(}  \sigma  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}   [  \ottnt{stmt'}  ]   \ottsym{]}  \ottsym{(}  \sigma'  \ottsym{,}  \ottkw{Running}  \ottsym{)}}{%
{\ottdrulename{stmt\_block\_exec}}{}%
}}


\newcommand{\ottdrulestmtXXblockXXexit}[1]{\ottdrule[#1]{%
\ottpremise{\varepsilon'  \ottsym{=}   \mathrm{tl} ( \varepsilon ) }%
}{
\ottsym{[}   [   \emptyset_{ \mathrm{stmt} }   ]   \ottsym{]}  \ottsym{(}  \ottsym{(}  \varepsilon  \ottsym{,}  E  \ottsym{)}  \ottsym{,}  \ottkw{Running}  \ottsym{)}  \rightarrow  \ottsym{[}   \emptyset_{ \mathrm{stmt} }   \ottsym{]}  \ottsym{(}  \ottsym{(}  \varepsilon'  \ottsym{,}  E  \ottsym{)}  \ottsym{,}  \ottkw{Running}  \ottsym{)}}{%
{\ottdrulename{stmt\_block\_exit}}{}%
}}

\newcommand{\ottdefnstmtXXred}[1]{\begin{ottdefnblock}[#1]{$\ottsym{[}  \ottnt{stmt}  \ottsym{]}  s  \rightarrow  \ottsym{[}  \ottnt{stmt'}  \ottsym{]}  s'$}{\ottcom{statement semantics}}
\ottusedrule{\ottdrulestmtXXretXXexp{}}
\ottusedrule{\ottdrulestmtXXretXXconst{}}
\ottusedrule{\ottdrulestmtXXassXXconst{}}
\ottusedrule{\ottdrulestmtXXassXXexp{}}
\ottusedrule{\ottdrulestmtXXseqOne{}}
\ottusedrule{\ottdrulestmtXXseqTwo{}}
\ottusedrule{\ottdrulestmtXXseqThree{}}
\ottusedrule{\ottdrulestmtXXcondOne{}}
\ottusedrule{\ottdrulestmtXXcondTwo{}}
\ottusedrule{\ottdrulestmtXXcondThree{}}
\ottusedrule{\ottdrulestmtXXdecl{}}
\ottusedrule{\ottdrulestmtXXblockXXenter{}}
\ottusedrule{\ottdrulestmtXXblockXXexec{}}
\ottusedrule{\ottdrulestmtXXblockXXexit{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsstmtXXsem}{
\ottdefnstmtXXred{}}

\newcommand{\ottdefnss}{
\ottdefnsexpXXsem
\ottdefnsstmtXXsem
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

