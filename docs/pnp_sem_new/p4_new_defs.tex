% generated by Ott 0.31 from: ott/p4_march.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \ottmv{string} ,\, \ottmv{var\_name} ,\, \ottmv{func\_name} $ & \ottcom{string} \\
 $ \ottmv{num} $ & \ottcom{natural number} \\
 $ \ottmv{bool} $ & \ottcom{boolean} \\
 $ \ottmv{int} $ & \ottcom{integer} \\
 $ \ottmv{i} ,\, \ottmv{j} ,\, \ottmv{k} ,\, \ottmv{l} $ &  \\
}}

\newcommand{\ottstatus}{
\ottrulehead{\ottnt{status}}{::=}{\ottcom{Execution status}}\ottprodnewline
\ottfirstprodline{|}{\ottkw{Running}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{TypeError}}{}{}{}{}}

\newcommand{\ottenvXXstack}{
\ottrulehead{\ottnt{env\_stack}}{::=}{\ottcom{current environment stack}}\ottprodnewline
\ottfirstprodline{|}{\ottkw{emptyes}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{stack\_frame_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{stack\_frame_{\ottmv{i}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{[}  \ottnt{stack\_frame}  \ottsym{]}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{env\_stack}  \ottsym{.} \, \ottkw{push} \, \ottsym{(}  \ottnt{stack\_frame}  \ottsym{)}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{env\_stack}  \ottsym{.} \, \ottkw{tail}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{env\_stack}  \ottsym{++}  \ottnt{env\_stack'}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{env\_stack}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\otttempXXstack}{
\ottrulehead{\ottnt{temp\_stack}}{::=}{\ottcom{stack of caller env stacks}}\ottprodnewline
\ottfirstprodline{|}{\ottkw{emptyts}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{env\_stack_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{env\_stack_{\ottmv{i}}}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{temp\_stack}  \ottsym{.} \, \ottkw{push} \, \ottsym{(}  \ottnt{env\_stack}  \ottsym{)}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{temp\_stack}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottstackXXframe}{
\ottrulehead{\ottnt{stack\_frame}}{::=}{\ottcom{frame/variable environment of current scope}}\ottprodnewline
\ottfirstprodline{|}{\ottkw{emptysf}}{}{}{}{\ottcom{empty stack frame}}\ottprodnewline
\ottprodline{|}{\ottnt{stack\_frame}  \ottsym{+}  \ottsym{[}  \ottmv{string}  \ottsym{\mbox{$\mid$}->}  \ottmv{int}  \ottsym{]}}{}{}{}{\ottcom{update variable mapping}}}

\newcommand{\ottstate}{
\ottrulehead{\ottnt{state}}{::=}{\ottcom{execution state}}\ottprodnewline
\ottfirstprodline{|}{\ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}}{}{}{}{}}

\newcommand{\ottexp}{
\ottrulehead{\ottnt{exp}}{::=}{\ottcom{expression}}\ottprodnewline
\ottfirstprodline{|}{\ottmv{bool}}{}{}{}{\ottcom{boolean value}}\ottprodnewline
\ottprodline{|}{\ottmv{int}}{}{}{}{\ottcom{integer value}}\ottprodnewline
\ottprodline{|}{\ottmv{var\_name}}{}{}{}{\ottcom{variable name}}\ottprodnewline
\ottprodline{|}{\ottnt{exp_{{\mathrm{1}}}}  \ottsym{==}  \ottnt{exp_{{\mathrm{2}}}}}{}{}{}{\ottcom{equality}}\ottprodnewline
\ottprodline{|}{\ottnt{exp_{{\mathrm{1}}}}  \ottsym{-}  \ottnt{exp_{{\mathrm{2}}}}}{}{}{}{\ottcom{subtraction}}}

\newcommand{\ottstmt}{
\ottrulehead{\ottnt{stmt}}{::=}{\ottcom{statement}}\ottprodnewline
\ottfirstprodline{|}{\ottkw{return} \, \ottnt{exp}}{}{}{}{\ottcom{return}}\ottprodnewline
\ottprodline{|}{\ottkw{assign} \, \ottmv{var\_name} \, \ottnt{exp}}{}{}{}{\ottcom{assignment}}\ottprodnewline
\ottprodline{|}{\ottmv{func\_name}  \ottsym{(}  \ottnt{exp_{{\mathrm{1}}}}  \ottsym{,} \, .. \, \ottsym{,}  \ottnt{exp_{\ottmv{i}}}  \ottsym{)}}{}{}{}{\ottcom{function call}}}

\newcommand{\ottfuncXXmap}{
\ottrulehead{\ottnt{func\_map}}{::=}{\ottcom{function map}}\ottprodnewline
\ottfirstprodline{|}{\ottkw{empty}} {\textsf{M}}{}{}{\ottcom{empty function map}}\ottprodnewline
\ottprodline{|}{\ottnt{func\_map}  \ottsym{+}  \ottsym{[}  \ottmv{string}  \ottsym{\mbox{$\mid$}->}  \ottnt{stmt}  \ottsym{]}} {\textsf{M}}{}{}{\ottcom{update variable mapping}}}

\newcommand{\ottterminals}{
\ottrulehead{\ottnt{terminals}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \rightarrow }{}{}{}{}}

\newcommand{\ottformula}{
\ottrulehead{\ottnt{formula}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{judgement}}{}{}{}{\ottcom{judgement}}\ottprodnewline
\ottprodline{|}{\ottmv{int}  \ottsym{==}  \ottmv{int'}  \ottsym{=}  \ottmv{bool}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{int}  \ottsym{-}  \ottmv{int'}  \ottsym{=}  \ottmv{int''}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{env\_stack}  \ottsym{(}  \ottmv{var\_name}  \ottsym{)}  \ottsym{=}  \ottnt{stack\_frame}} {\textsf{M}}{}{}{\ottcom{find frame stack of variable}}\ottprodnewline
\ottprodline{|}{\ottnt{stack\_frame}  \ottsym{=}  \ottnt{env\_stack}  \ottsym{[}  \ottmv{num}  \ottsym{]}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{stack\_frame}  \ottsym{(}  \ottmv{var\_name}  \ottsym{)}  \ottsym{=}  \ottmv{int}} {\textsf{M}}{}{}{\ottcom{look-up of variable in stack frame}}\ottprodnewline
\ottprodline{|}{\ottnt{env\_stack}  \ottsym{=}  \ottnt{env\_stack'}} {\textsf{M}}{}{}{\ottcom{env_stack equality (for manipulation)}}\ottprodnewline
\ottprodline{|}{\ottnt{temp\_stack}  \ottsym{='}  \ottnt{temp\_stack'}} {\textsf{M}}{}{}{\ottcom{temp_stack equality (for manipulation)}}\ottprodnewline
\ottprodline{|}{\ottnt{env\_stack}  \ottsym{=}  \ottnt{temp\_stack}  \ottsym{.} \, \ottkw{top}} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{func\_map}  \ottsym{(}  \ottmv{func\_name}  \ottsym{)}  \ottsym{=}  \ottnt{stmt}} {\textsf{M}}{}{}{\ottcom{function lookup}}}

\newcommand{\ottexpXXsem}{
\ottrulehead{\ottnt{exp\_sem}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottsym{[}  \ottnt{exp}  \ottsym{]}  \ottnt{state}  \rightarrow  \ottsym{[}  \ottnt{exp'}  \ottsym{]}  \ottnt{state'}}{}{}{}{\ottcom{expression semantics}}}

\newcommand{\ottstmtXXsem}{
\ottrulehead{\ottnt{stmt\_sem}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottsym{[}  \ottnt{stmt}  \ottsym{]}  \ottnt{state}  \rightarrow  \ottsym{[}  \ottnt{stmt'}  \ottsym{]}  \ottnt{state'}}{}{}{}{\ottcom{statement semantics}}}

\newcommand{\ottstmtXXsemXXfin}{
\ottrulehead{\ottnt{stmt\_sem\_fin}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottsym{[}  \ottnt{stmt}  \ottsym{]}  \ottnt{state}  \rightarrow  \ottsym{[}  \ottmv{int}  \ottsym{]}  \ottnt{state'}}{}{}{}{\ottcom{statement semantics, finalize execution}}}

\newcommand{\ottjudgement}{
\ottrulehead{\ottnt{judgement}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{exp\_sem}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{stmt\_sem}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{stmt\_sem\_fin}}{}{}{}{}}

\newcommand{\ottuserXXsyntax}{
\ottrulehead{\ottnt{user\_syntax}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottmv{string}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{num}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{bool}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{int}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{i}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{status}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{env\_stack}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{temp\_stack}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{stack\_frame}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{state}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{exp}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{stmt}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{func\_map}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{terminals}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{formula}}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\ottstatus\ottinterrule
\ottenvXXstack\ottinterrule
\otttempXXstack\ottinterrule
\ottstackXXframe\ottinterrule
\ottstate\ottinterrule
\ottexp\ottinterrule
\ottstmt\ottinterrule
\ottfuncXXmap\ottinterrule
\ottterminals\ottinterrule
\ottformula\ottinterrule
\ottexpXXsem\ottinterrule
\ottstmtXXsem\ottinterrule
\ottstmtXXsemXXfin\ottinterrule
\ottjudgement\ottinterrule
\ottuserXXsyntax\ottafterlastrule
}}

% defnss
% defns exp_sem
%% defn exp_red
\newcommand{\ottdrulelookup}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{env\_stack}  \ottsym{(}  \ottmv{var\_name}  \ottsym{)}  \ottsym{=}  \ottnt{stack\_frame}}%
\ottpremise{\ottnt{stack\_frame}  \ottsym{(}  \ottmv{var\_name}  \ottsym{)}  \ottsym{=}  \ottmv{int}}%
}{
\ottsym{[}  varname  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottmv{int}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}}{%
{\ottdrulename{lookup}}{}%
}}


\newcommand{\ottdrulesubOne}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{[}  \ottnt{exp}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{exp''}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{,}  \ottnt{temp\_stack'}  \ottsym{,}  \ottnt{status}  \ottsym{)}}%
}{
\ottsym{[}  \ottnt{exp}  \ottsym{-}  \ottnt{exp'}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{exp''}  \ottsym{-}  \ottnt{exp'}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{,}  \ottnt{temp\_stack'}  \ottsym{,}  \ottnt{status}  \ottsym{)}}{%
{\ottdrulename{sub1}}{}%
}}


\newcommand{\ottdrulesubTwo}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{[}  \ottnt{exp'}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{exp''}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{,}  \ottnt{temp\_stack'}  \ottsym{,}  \ottnt{status}  \ottsym{)}}%
}{
\ottsym{[}  \ottmv{int}  \ottsym{-}  \ottnt{exp'}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottmv{int}  \ottsym{-}  \ottnt{exp''}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{,}  \ottnt{temp\_stack'}  \ottsym{,}  \ottnt{status}  \ottsym{)}}{%
{\ottdrulename{sub2}}{}%
}}


\newcommand{\ottdrulesubThree}[1]{\ottdrule[#1]{%
\ottpremise{\ottmv{int}  \ottsym{-}  \ottmv{int'}  \ottsym{=}  \ottmv{int''}}%
}{
\ottsym{[}  \ottmv{int}  \ottsym{-}  \ottmv{int'}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottmv{int''}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}}{%
{\ottdrulename{sub3}}{}%
}}


\newcommand{\ottdruleeqOne}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{[}  \ottnt{exp}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{exp''}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{,}  \ottnt{temp\_stack'}  \ottsym{,}  \ottnt{status}  \ottsym{)}}%
}{
\ottsym{[}  \ottnt{exp}  \ottsym{==}  \ottnt{exp'}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{exp''}  \ottsym{==}  \ottnt{exp'}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{,}  \ottnt{temp\_stack'}  \ottsym{,}  \ottnt{status}  \ottsym{)}}{%
{\ottdrulename{eq1}}{}%
}}


\newcommand{\ottdruleeqTwo}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{[}  \ottnt{exp'}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{exp''}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{,}  \ottnt{temp\_stack'}  \ottsym{,}  \ottnt{status}  \ottsym{)}}%
}{
\ottsym{[}  \ottmv{int}  \ottsym{==}  \ottnt{exp'}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottmv{int}  \ottsym{==}  \ottnt{exp''}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{,}  \ottnt{temp\_stack'}  \ottsym{,}  \ottnt{status}  \ottsym{)}}{%
{\ottdrulename{eq2}}{}%
}}


\newcommand{\ottdruleeqThree}[1]{\ottdrule[#1]{%
\ottpremise{\ottmv{int}  \ottsym{==}  \ottmv{int'}  \ottsym{=}  \ottmv{bool}}%
}{
\ottsym{[}  \ottmv{int}  \ottsym{==}  \ottmv{int'}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottmv{bool}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}}{%
{\ottdrulename{eq3}}{}%
}}

\newcommand{\ottdefnexpXXred}[1]{\begin{ottdefnblock}[#1]{$\ottsym{[}  \ottnt{exp}  \ottsym{]}  \ottnt{state}  \rightarrow  \ottsym{[}  \ottnt{exp'}  \ottsym{]}  \ottnt{state'}$}{\ottcom{expression semantics}}
\ottusedrule{\ottdrulelookup{}}
\ottusedrule{\ottdrulesubOne{}}
\ottusedrule{\ottdrulesubTwo{}}
\ottusedrule{\ottdrulesubThree{}}
\ottusedrule{\ottdruleeqOne{}}
\ottusedrule{\ottdruleeqTwo{}}
\ottusedrule{\ottdruleeqThree{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsexpXXsem}{
\ottdefnexpXXred{}}

% defns stmt_sem
%% defn stmt_red
\newcommand{\ottdrulefuncXXcall}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{stack\_frame}  \ottsym{=}  \ottnt{env\_stack}  \ottsym{[}  0  \ottsym{]}}%
\ottpremise{\ottnt{env\_stack'}  \ottsym{=}  \ottsym{(}  \ottkw{emptyes}  \ottsym{.} \, \ottkw{push} \, \ottsym{(}  \ottnt{stack\_frame}  \ottsym{)}  \ottsym{)}  \ottsym{.} \, \ottkw{push} \, \ottsym{(}  \ottkw{emptysf}  \ottsym{)}}%
\ottpremise{\ottnt{temp\_stack'}  \ottsym{='}  \ottnt{temp\_stack}  \ottsym{.} \, \ottkw{push} \, \ottsym{(}  \ottnt{env\_stack}  \ottsym{.} \, \ottkw{tail}  \ottsym{)}}%
\ottpremise{\ottnt{func\_map}  \ottsym{(}  \ottmv{func\_name}  \ottsym{)}  \ottsym{=}  \ottnt{stmt}}%
}{
\ottsym{[}  \ottmv{func\_name}  \ottsym{(}  \,  \ottsym{)}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{stmt}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{,}  \ottnt{temp\_stack'}  \ottsym{,}  \ottnt{status}  \ottsym{)}}{%
{\ottdrulename{func\_call}}{}%
}}


\newcommand{\ottdruleretOne}[1]{\ottdrule[#1]{%
\ottpremise{\ottsym{[}  \ottnt{exp}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottnt{exp'}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{,}  \ottnt{temp\_stack'}  \ottsym{,}  \ottnt{status}  \ottsym{)}}%
}{
\ottsym{[}  \ottkw{return} \, \ottnt{exp}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottkw{return} \, \ottnt{exp'}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{,}  \ottnt{temp\_stack'}  \ottsym{,}  \ottnt{status}  \ottsym{)}}{%
{\ottdrulename{ret1}}{}%
}}

\newcommand{\ottdefnstmtXXred}[1]{\begin{ottdefnblock}[#1]{$\ottsym{[}  \ottnt{stmt}  \ottsym{]}  \ottnt{state}  \rightarrow  \ottsym{[}  \ottnt{stmt'}  \ottsym{]}  \ottnt{state'}$}{\ottcom{statement semantics}}
\ottusedrule{\ottdrulefuncXXcall{}}
\ottusedrule{\ottdruleretOne{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsstmtXXsem}{
\ottdefnstmtXXred{}}

% defns stmt_sem_fin
%% defn stmt_red_fin
\newcommand{\ottdruleretTwo}[1]{\ottdrule[#1]{%
\ottpremise{\ottnt{stack\_frame}  \ottsym{=}  \ottnt{env\_stack}  \ottsym{[}  0  \ottsym{]}}%
\ottpremise{\ottnt{env\_stack'}  \ottsym{=}  \ottnt{temp\_stack}  \ottsym{.} \, \ottkw{top}}%
\ottpremise{\ottnt{env\_stack''}  \ottsym{=}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{)}  \ottsym{++}  \ottsym{(}  \ottsym{[}  \ottnt{stack\_frame}  \ottsym{]}  \ottsym{)}}%
}{
\ottsym{[}  \ottkw{return} \, \ottmv{int}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack}  \ottsym{,}  \ottnt{temp\_stack}  \ottsym{,}  \ottnt{status}  \ottsym{)}  \rightarrow  \ottsym{[}  \ottmv{int}  \ottsym{]}  \ottsym{(}  \ottnt{env\_stack'}  \ottsym{,}  \ottnt{temp\_stack'}  \ottsym{,}  \ottnt{status}  \ottsym{)}}{%
{\ottdrulename{ret2}}{}%
}}

\newcommand{\ottdefnstmtXXredXXfin}[1]{\begin{ottdefnblock}[#1]{$\ottsym{[}  \ottnt{stmt}  \ottsym{]}  \ottnt{state}  \rightarrow  \ottsym{[}  \ottmv{int}  \ottsym{]}  \ottnt{state'}$}{\ottcom{statement semantics, finalize execution}}
\ottusedrule{\ottdruleretTwo{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsstmtXXsemXXfin}{
\ottdefnstmtXXredXXfin{}}

\newcommand{\ottdefnss}{
\ottdefnsexpXXsem
\ottdefnsstmtXXsem
\ottdefnsstmtXXsemXXfin
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

